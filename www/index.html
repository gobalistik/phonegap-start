<!DOCTYPE html>
<html>
<head>
    <title>Page Title</title>
    <script src="scripts/jquery-1.6.4.js" type="text/javascript"></script>
    <script src="scripts/jquery.mobile-1.2.0.min.js" type="text/javascript"></script>
    <script src="scripts/cordova.js" type="text/javascript"></script>
    <script src="scripts/knockout-2.2.0.js" type="text/javascript"></script>
    <script src="scripts/knockout.mapping-latest.js" type="text/javascript"></script>
    <script src="scripts/tipster.js" type="text/javascript"></script>
    <script src="ViewModels/TeamsViewModel.js" type="text/javascript"></script>
    <script src="ViewModels/SelectionsViewModel.js" type="text/javascript"></script>
    <script src="ViewModels/ResultsViewModel.js" type="text/javascript"></script>

    <link rel="Stylesheet" href="style/jquery.mobile-1.2.0.min.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body>
<!--        <div data-role="page" id="page1">
            <div data-theme="e" data-role="header">
                <h3>
                    Welcome!
                </h3>
            </div>
            <div data-role="content">
                <div>
                    <b>
                        This is your Nomad project...
                    </b>
                </div>
                <ul data-role="listview" data-divider-theme="e" data-inset="true">
                    <li data-role="list-divider" role="heading">
                        Getting Started
                    </li>
                    <li data-theme="c">
                        <a href="http://www.vsnomad.com/documentation" target="_newtab">
                            Read the guide
                        </a>
                    </li>
                    <li data-theme="c">
                        <a href="http://vsnomad.zendesk.com/" target="_newtab">
                            Report a problem
                        </a>
                    </li>
                    <li data-theme="c">
                        Hit the build button and try it on a device!
                    </li>
                </ul>

                <hr />

                <ul data-role="listview" data-divider-theme="e">
                    <li data-role="list-divider" role="heading">
                        Device Information
                    </li>
                    <li>
                        <h3>Compass heading: <span id="heading">n/a</span></h3>
                        <p>Uses compass.watchHeading</p>
                    </li>
                    <li>
                        <h3>Connection type: <span id="connection">n/a</span></h3>
                        <p>Uses connection.type</p>
                    </li>
                    <li data-theme="c">
                        <h3>Contacts: <span id="contacts">n/a</span></h3>
                        <p>Uses navigator.contacts.find</p>
                    </li>
                    <li data-theme="c">
                        <h3>Device properties:</h3>
                        <p>Uses device.*</p>
                        <div id="deviceprops" style="font-size: 11px;">n/a</div>
                    </li>
                    <li data-theme="c">
                        <h3>Geolocation: <span id="geolocation">n/a</span></h3>
                        <p>Uses navigator.geolocation.watchPosition</p>
                    </li>
                    <li data-theme="c">
                        <img alt="" src="images/choosephoto.png" id="picture" /><button data-role="button" data-inline="true" onclick="showPictures();">
                            Choose a picture
                        </button>
                        <p><span id="geolocationerror"></span></p>
                    </li>
                </ul>
            </div>
            <div data-theme="a" data-role="footer">
            </div>

            <script type="text/javascript">
                function showPictures() {
                    navigator.camera.getPicture(function (imageURI) {
                        $('img#picture').attr('src', imageURI);
                    }, function (error) {
                        $('img#picture').replaceWith('<p>' + error + '</p>');
                    }, { sourceType: navigator.camera.PictureSourceType.PHOTOLIBRARY, destinationType: navigator.camera.DestinationType.FILE_URI });
                }

                $(function () {
                    var compassWatchID, geoWatchID;

                    document.addEventListener("deviceready", function () {
                        // Compass
                        compassWatchID = navigator.compass.watchHeading(function (heading) {
                            $('span#heading').html(heading.magneticHeading.toFixed(2) + '&#176;');
                        }, function (error) {
                            $('span#heading').text(error.code);
                        }, { frequency: 3000 });

                        // Connection
                        var networkState = navigator.network.connection.type,
                            states = {};

                        states[Connection.UNKNOWN] = 'Unknown';
                        states[Connection.ETHERNET] = 'Ethernet';
                        states[Connection.WIFI] = 'WiFi';
                        states[Connection.CELL_2G] = 'Cell 2G';
                        states[Connection.CELL_3G] = 'Cell 3G';
                        states[Connection.CELL_4G] = 'Cell 4G';
                        states[Connection.NONE] = 'No network';

                        $('span#connection').text(states[networkState]);

                        // Contacts
                        navigator.contacts.find(['displayName', 'email'], function (contacts) {
                            $('span#contacts').text(contacts.length + ' found');
                        }, function (error) {
                            $('span#contacts').text(error.code);
                        }, { multiple: true });

                        // Device properties
                        $('div#deviceprops').html(
                            '<strong>Name:</strong> ' + device.name + '<br/>' +
                            '<strong>Cordova version:</strong> ' + device.cordova + '<br/>' +
                            '<strong>Platform:</strong> ' + device.platform + '<br/>' +
                            '<strong>UUID:</strong> ' + device.uuid + '<br/>' +
                            '<strong>Version:</strong> ' + device.version + '<br/>'
                        );

                        // Geolocation
                        geoWatchID = navigator.geolocation.watchPosition(function (position) {
                            $('span#geolocation').text(position.coords.latitude.toFixed(2) + 'N, ' + position.coords.longitude.toFixed(2) + 'E');
                        }, function (error) {
                            $('span#geolocationerror').text(error.code + ': ' + error.message);
                        }, { frequency: 3000 });
                    });
                } ());
            </script>
        </div>-->

    <script type="text/javascript">
        //function GetData() {
        //    $.ajax({
        //        type: "POST",
        //        url: "http://286b8657d1a24560a47a56602d0e55db.cloudapp.net/default.aspx/TeamCount",
        //        //url: "http://localhost:2326/Default.aspx/TeamCount",
        //        //data: "{'value':'314314'}",
        //        dataType: "json",
        //        contentType: "application/json; charset=utf-8",
        //        cache: false,
        //        success: function (response) {
        //            $('#ajaxresponse').text(response.d);
        //        },
        //        failure: function (msg) {
        //            alert(msg);
        //        },
        //        error: function (msg) {
        //            alert(msg);
        //        }
        //    });
        //}

        //$(function () {
        //    document.addEventListener("deviceready", function () {
        //        GetData();

        //        ////bind the team view model
        //        //ko.applyBindings(new TeamsViewModel());

        //        //$(document).bind("pagechange", function (e, info) {
        //        //    var vm = info.toPage.attr("data-viewmodel")
        //        //    if (vm === 'TeamsViewModel') {
        //        //        if (!ko.dataFor(info.toPage[0])) {
        //        //            //alert('vm=' + info.toPage[0].id + ' ' );
        //        //            ko.applyBindings(new TeamsViewModel(), $('home'));
        //        //            alert('teamArray[0]' + teamArray[0]["name"]);

        //        //        }
        //        //    }
        //        //});

        //    });

        //} ());
    </script>

    <script type="text/javascript">
        //$(document).bind('pagecreate', function () { alert('pagecreate ' + page); });

        //$('#home').live('pageinit', function (event) {
        //    alert('binding home');
        //    ko.applyBindings(new TeamsViewModel())
        //});

        //$('#selections').live('pageinit', function (event) {
        //    alert('binding selections');
        //    //ko.applyBindings(new SelectionsViewModel())
        //});

        //$(document).bind("pagechange", function (e, info) {
        //    alert('topage ' + info.toPage[0].id);

        //    if (info.toPage[0].id === 'home') {
        //        ko.applyBindings(new TeamsViewModel())
        //    }
        //});

        //$('#home').live('pageshow', function (event) {
        //    alert('pageshow');
        //    ko.applyBindings(new TeamsViewModel());
        //});

        //$('#results').live('pagecreate', function (event) {
        //    ko.applyBindings(new ResultsViewModel())
        //});

        //document.addEventListener("pageinit", function () { alert('pageinit'); });

        //document.addEventListener("deviceready", function () {
        //    //alert('deviceready');
        //    PageStateManager.initPage($('#home'), new TeamsViewModel());
        //});
    </script>
    
    <!--HOME PAGE-->
    <div data-role="page" data-control-title="Home" id="index">
        <div data-id="mainheader" data-theme="a" data-role="header" data-position="fixed">
            <h3>
                Home
            </h3>
        </div>

        <div data-role="content">
            <h1>WELCOME to Betdar</h1>
        </div>

        <div data-id="mainfooter" data-theme="a" data-role="footer" data-position="fixed">
            <div data-role="navbar" data-iconpos="top">
                <ul>
                    <li>
                        <a href="#teams" data-transition="fade" data-theme="" data-icon="">
                            Teams
                        </a>
                    </li>
                    <li>
                        <a href="#selections" data-transition="fade" data-theme="" data-icon="">
                            Selections
                        </a>
                    </li>
                    <li>
                        <a href="#results" data-transition="fade" data-theme="" data-icon="">
                            Results
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!--TEAMS PAGE-->
    <div data-role="page" data-control-title="Team" id="teams">
        <div data-id="mainheader" data-theme="a" data-role="header" data-position="fixed">
            <h3>
                Teams
            </h3>
        </div>

        <div id="divContent" data-role="content" >
            <p>
                <span>Ajax Response</span>&nbsp;<span id="ajaxresponse"></span>
            </p>

            <div id="teamlist" ></div>
        </div>

        <div id="footer" data-id="mainfooter" data-theme="a" data-role="footer" data-position="fixed">
            <div data-role="navbar" data-iconpos="top">
                <ul>
                    <li>
                        <a href="#teams" data-transition="fade" data-theme="" data-icon="">
                            Teams
                        </a>
                    </li>
                    <li>
                        <a href="#selections" data-transition="fade" data-theme="" data-icon="">
                            Selections
                        </a>
                    </li>
                    <li>
                        <a href="#results" data-transition="fade" data-theme="" data-icon="">
                            Results
                        </a>
                    </li>
                </ul>
            </div>
        </div>

        <script type="text/javascript">
        </script>
    </div>

    <div data-role="page" data-control-title="Selections" id="selections">
        <div data-id="mainheader" data-theme="a" data-role="header" data-position="fixed">
            <h3>
                Selections
            </h3>
        </div>

        <div data-role="content" >
            <div>hello selections - constant</div>
        </div>

        <div data-id="mainfooter" data-theme="a" data-role="footer" data-position="fixed">
            <div data-role="navbar" data-iconpos="top">
                <ul>
                    <li>
                        <a href="#teams" data-transition="fade" data-theme="" data-icon="">
                            Teams
                        </a>
                    </li>
                    <li>
                        <a href="#selections" data-transition="fade" data-theme="" data-icon="">
                            Selections
                        </a>
                    </li>
                    <li>
                        <a href="#results" data-transition="fade" data-theme="" data-icon="">
                            Results
                        </a>
                    </li>
                </ul>
            </div>
        </div>

        <!--SCRIPT MUST BE WITHIN THE PAGE DIV-->
        <script type="text/javascript">
        </script>
    </div>

    <!--RESULTS PAGE-->
    <div data-role="page" data-control-title="Results" id="results" data-bind="with: new ResultsViewModel()">
        <div data-id="mainheader" data-theme="a" data-role="header" data-position="fixed">
            <h3>
                Results
            </h3>
        </div>

        <div data-role="content">
            <div data-bind="text: hi"></div><div>bound</div>
        </div>

        <div data-id="mainfooter" data-theme="a" data-role="footer" data-position="fixed">
            <div data-role="navbar" data-iconpos="top">
                <ul>
                    <li>
                        <a href="#teams" data-transition="fade" data-theme="" data-icon="">
                            Teams
                        </a>
                    </li>
                    <li>
                        <a href="#selections" data-transition="fade" data-theme="" data-icon="">
                            Selections
                        </a>
                    </li>
                    <li>
                        <a href="#results" data-transition="fade" data-theme="" data-icon="">
                            Results
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <script src="scripts/common.js" type="text/javascript"></script>
</body>
</html>

